<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="referrer" content="no-referrer-when-downgrade" />
    <title>AcademicO - Find Your Perfect Study Partners</title>
    <meta
      name="description"
      content="Connect with students in your courses for collaborative learning and academic success"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link rel="stylesheet" href="css/style.css" />
  </head>
  <body>
    <!-- Header -->
    <header class="header">
      <div class="container">
        <a href="#" class="logo">
          <div class="logo-content">
            <div class="logo-text">academicO</div>
            <div class="logo-tagline">Study Partner Network</div>
          </div>
        </a>
        <nav class="nav">
          <a href="#features" class="nav-link">Features</a>
          <a href="#how-it-works" class="nav-link">How It Works</a>
          <button class="login-btn" id="loginBtn">
            <i class="fas fa-sign-in-alt"></i> Login
          </button>
        </nav>
      </div>
    </header>

    <main class="main">
      <!-- Welcome Section -->
      <section class="welcome-section" id="welcomeSection">
        <div class="container">
          <div class="welcome-content">
            <div class="welcome-text">
              <h1>
                Welcome to <span class="welcome-highlight">academicO</span>!
              </h1>
              <p class="welcome-subtitle">
                Your platform for finding the perfect study partners
              </p>
              <p class="welcome-description">
                Connect with students who share your courses, schedule, and
                academic goals. Collaborative learning leads to better
                understanding and improved grades. Join thousands of students
                already studying smarter together.
              </p>

              <!-- Statistics -->
              <div class="stats-container">
                <div class="stat">
                  <span class="stat-number" id="studentsCount">0</span>
                  <span class="stat-label">
                    <i class="fas fa-users"></i> Students Connected
                  </span>
                </div>
                <div class="stat">
                  <span class="stat-number" id="studyGroupsCount">0</span>
                  <span class="stat-label">
                    <i class="fas fa-user-friends"></i> Active Study Groups
                  </span>
                </div>
                <div class="stat">
                  <span class="stat-number" id="coursesCount">0</span>
                  <span class="stat-label">
                    <i class="fas fa-book"></i> Courses Available
                  </span>
                </div>
              </div>

              <!-- Authentication Buttons -->
              <div class="auth-buttons">
                <button class="auth-btn primary" id="loginBtnMain">
                  <i class="fas fa-sign-in-alt"></i> Login to Continue
                </button>
                <button class="auth-btn secondary" id="registerBtnMain">
                  <i class="fas fa-user-plus"></i> New Here? Register
                </button>
              </div>
            </div>

            <div class="welcome-visual">
              <!-- Weather Display -->
              <div class="weather-widget" id="weatherWidget">
                <div class="weather-loading">
                  <i class="fas fa-spinner fa-spin"></i> Loading weather...
                </div>
              </div>
              
              <!-- Visual Elements -->
              <div class="welcome-graphics">
                <div class="graphic-circle circle-1"></div>
                <div class="graphic-circle circle-2"></div>
                <div class="graphic-circle circle-3"></div>
                <div class="graphic-icon">
                  <i class="fas fa-graduation-cap"></i>
                </div>
                <div class="graphic-icon icon-2">
                  <i class="fas fa-book-open"></i>
                </div>
                <div class="graphic-icon icon-3">
                  <i class="fas fa-users"></i>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Features Section -->
      <section class="features-section" id="features">
        <div class="container">
          <h2 class="section-title">Why Choose AcademicO?</h2>
          <div class="features-grid">
            <div class="feature-card">
              <div class="feature-icon"><i class="fas fa-bullseye"></i></div>
              <h3>Smart Matching</h3>
              <p>
                Find partners based on your course, schedule, and learning style
                with our intelligent algorithm.
              </p>
            </div>
            <div class="feature-card">
              <div class="feature-icon"><i class="fas fa-clock"></i></div>
              <h3>Time Zone Aware</h3>
              <p>
                Connect with students who share your availability across
                different time zones and schedules.
              </p>
            </div>
            <div class="feature-card">
              <div class="feature-icon"><i class="fas fa-book"></i></div>
              <h3>Resource Sharing</h3>
              <p>
                Share study materials, notes, and resources securely with your
                study group members.
              </p>
            </div>
            <div class="feature-card">
              <div class="feature-icon"><i class="fas fa-users"></i></div>
              <h3>Collaborative Learning</h3>
              <p>
                Learn better together with peer support, group discussions, and
                shared knowledge.
              </p>
            </div>
          </div>
        </div>
      </section>

      <!-- How It Works Section -->
      <section class="how-it-works-section" id="how-it-works">
        <div class="container">
          <h2 class="section-title">How AcademicO Works</h2>
          <div class="steps-container">
            <div class="step">
              <div class="step-number">1</div>
              <div class="step-icon"><i class="fas fa-edit"></i></div>
              <h3>Create Your Profile</h3>
              <p>
                Tell us about your courses, availability, and preferred study
                methods.
              </p>
            </div>
            <div class="step">
              <div class="step-number">2</div>
              <div class="step-icon"><i class="fas fa-search"></i></div>
              <h3>Find Your Match</h3>
              <p>
                Discover students with similar academic goals and compatible
                schedules.
              </p>
            </div>
            <div class="step">
              <div class="step-number">3</div>
              <div class="step-icon"><i class="fas fa-comments"></i></div>
              <h3>Connect & Study</h3>
              <p>
                Start collaborating, share resources, and achieve academic
                success together!
              </p>
            </div>
          </div>
        </div>
      </section>
    </main>

    <footer class="footer">
      <div class="container">
        <p>&copy; 2024 AcademicO - Academic Connection Platform</p>
        <p class="credits">
          <i class="fas fa-graduation-cap"></i> Built for better learning
          experiences • Empowering students worldwide
        </p>
        <!-- Admin Access Link in Footer -->
        <div class="admin-access-footer">
          <button class="admin-login-link" id="adminLoginBtn">
            <i class="fas fa-shield-alt"></i> Admin Access
          </button>
        </div>
      </div>
    </footer>

    <!-- Login Modal -->
    <div class="modal hidden" id="loginModal">
      <div class="modal-overlay" id="loginOverlay"></div>
      <div class="modal-content">
        <button class="modal-close" id="closeLogin">
          <i class="fas fa-times"></i>
        </button>
        <div class="auth-card">
          <div class="auth-header">
            <h2>Welcome Back!</h2>
            <p>Login to your AcademicO account</p>
          </div>
          <form class="auth-form" id="loginForm">
            <div class="form-group">
              <label for="loginEmail">
                <i class="fas fa-envelope"></i> Email Address
              </label>
              <input
                type="email"
                id="loginEmail"
                placeholder="your.email@university.edu"
                required
              />
            </div>
            <div class="form-group">
              <label for="loginPassword">
                <i class="fas fa-lock"></i> Password
              </label>
              <input
                type="password"
                id="loginPassword"
                placeholder="Enter your password"
                required
              />
            </div>
            <button type="submit" class="auth-submit-btn">
              <i class="fas fa-sign-in-alt"></i> Login to AcademicO
            </button>
            <div class="auth-links">
              <a href="#" class="auth-link" id="showForgotPasswordModal">
                <i class="fas fa-key"></i> Forgot password?
              </a>
              <span>•</span>
              <a href="#" class="auth-link" id="showRegisterModal">
                <i class="fas fa-user-plus"></i> Create new account
              </a>
            </div>
          </form>
        </div>
      </div>
    </div>

    <!-- Register Modal -->
    <div class="modal hidden" id="registerModal">
      <div class="modal-overlay" id="registerOverlay"></div>
      <div class="modal-content">
        <button class="modal-close" id="closeRegister">
          <i class="fas fa-times"></i>
        </button>
        <div class="auth-card">
          <div class="auth-header">
            <h2>Join AcademicO!</h2>
            <p>Create your account and start studying smarter</p>
          </div>
          <form class="auth-form" id="registerForm">
            <div class="form-group">
              <label for="regFullName">
                <i class="fas fa-user"></i> Full Name
              </label>
              <input
                type="text"
                id="regFullName"
                placeholder="Enter your full name"
                required
              />
            </div>
            <div class="form-group">
              <label for="regEmail">
                <i class="fas fa-envelope"></i> University Email
              </label>
              <input
                type="email"
                id="regEmail"
                placeholder="your.name@university.edu"
                required
              />
            </div>

            <!-- Dynamic Country Selection -->
            <div class="form-group">
              <label for="regCountry">
                <i class="fas fa-globe"></i> Country
              </label>
              <select id="regCountry" required>
                <option value="">Select your country</option>
              </select>
            </div>

            <!-- Dynamic University Selection -->
            <div class="form-group">
              <label for="regUniversity">
                <i class="fas fa-university"></i> University
              </label>
              <select id="regUniversity" required>
                <option value="">Select your country first</option>
              </select>
            </div>

            <!-- Custom University Input -->
            <div class="form-group hidden" id="customUniversityContainer">
              <label for="customUniversity">
                <i class="fas fa-edit"></i> Enter Your University
              </label>
              <input
                type="text"
                id="customUniversity"
                placeholder="Enter your university name"
              />
            </div>

            <!-- Course Selection -->
            <div class="form-group">
              <label for="regCourse">
                <i class="fas fa-book"></i> Course of Study
              </label>
              <input
                type="text"
                id="regCourse"
                placeholder="e.g., Computer Science, Mathematics"
                required
              />
            </div>

            <!-- Availability Selection -->
            <div class="form-group">
              <label for="regAvailability">
                <i class="fas fa-clock"></i> Preferred Study Availability
              </label>
              <select id="regAvailability" required>
                <option value="">Select your preferred study time</option>
                <option value="morning">Mornings</option>
                <option value="afternoon">Afternoons</option>
                <option value="evening">Evenings</option>
                <option value="weekend">Weekends</option>
                <option value="flexible">Flexible</option>
              </select>
            </div>

            <!-- Study Type Selection -->
            <div class="form-group">
              <label for="regStudyType">
                <i class="fas fa-users"></i> Preferred Study Style
              </label>
              <select id="regStudyType" required>
                <option value="">Select your study preference</option>
                <option value="group">Group Study</option>
                <option value="pair">One-on-One</option>
                <option value="project">Project Collaboration</option>
                <option value="any">Any Style</option>
              </select>
            </div>

            <div class="form-group">
              <label for="regPassword">
                <i class="fas fa-lock"></i> Create Password
              </label>
              <input
                type="password"
                id="regPassword"
                placeholder="Choose a secure password"
                required
              />
            </div>
            <div class="form-group">
              <label for="regConfirmPassword">
                <i class="fas fa-lock"></i> Confirm Password
              </label>
              <input
                type="password"
                id="regConfirmPassword"
                placeholder="Re-enter your password"
                required
              />
            </div>
            <button type="submit" class="auth-submit-btn">
              <i class="fas fa-rocket"></i> Create Account
            </button>
            <div class="auth-links">
              <a href="#" class="auth-link" id="showLoginModal">
                <i class="fas fa-sign-in-alt"></i> Already have an account?
                Login
              </a>
            </div>
          </form>
        </div>
      </div>
    </div>

    <!-- Forgot Password Modal -->
    <div class="modal hidden" id="forgotPasswordModal">
      <div class="modal-overlay" id="forgotPasswordOverlay"></div>
      <div class="modal-content">
        <button class="modal-close" id="closeForgotPassword">
          <i class="fas fa-times"></i>
        </button>
        <div class="auth-card">
          <div class="auth-header">
            <h2>Reset Password</h2>
            <p>Enter your email to reset your password</p>
          </div>
          <form class="auth-form" id="forgotPasswordForm">
            <div class="form-group">
              <label for="forgotPasswordEmail">
                <i class="fas fa-envelope"></i> Email Address
              </label>
              <input
                type="email"
                id="forgotPasswordEmail"
                placeholder="your.email@university.edu"
                required
              />
            </div>
            <button type="submit" class="auth-submit-btn">
              <i class="fas fa-paper-plane"></i> Send Reset Link
            </button>
            <div class="auth-links">
              <a href="#" class="auth-link" id="backToLoginFromForgot">
                <i class="fas fa-arrow-left"></i> Back to Login
              </a>
            </div>
          </form>
        </div>
      </div>
    </div>

    <!-- Password Reset Success Modal -->
    <div class="modal hidden" id="passwordResetSuccessModal">
      <div class="modal-overlay" id="passwordResetSuccessOverlay"></div>
      <div class="modal-content">
        <button class="modal-close" id="closePasswordResetSuccess">
          <i class="fas fa-times"></i>
        </button>
        <div class="auth-card">
          <div class="auth-header">
            <h2><i class="fas fa-check-circle" style="color: #27ae60;"></i> Password Reset Successful!</h2>
            <p>Your temporary password has been generated</p>
          </div>
          <div class="password-reset-info">
            <div class="info-box">
              <p><strong>Note:</strong> In production, this password would be sent to your email address. For now, please copy the temporary password below.</p>
            </div>
            <div class="temp-password-container">
              <label>Temporary Password:</label>
              <div class="password-display">
                <input type="text" id="tempPasswordDisplay" readonly value="" />
                <button type="button" class="copy-password-btn" id="copyTempPassword">
                  <i class="fas fa-copy"></i> Copy
                </button>
                <button type="button" class="copy-password-btn" id="testPasswordHash" style="margin-left: 10px; background: #27ae60;">
                  <i class="fas fa-check"></i> Test Hash
                </button>
              </div>
              <small><strong>Important:</strong> Please wait 5-10 seconds after resetting your password before logging in to ensure Firestore has saved the new password. Then login with this temporary password and change it immediately after logging in.</small>
              <div id="passwordTestResult" style="margin-top: 10px; padding: 10px; border-radius: 5px; display: none; font-size: 12px;"></div>
            </div>
            <div class="auth-links" style="margin-top: 20px;">
              <button type="button" class="auth-submit-btn" id="goToLoginAfterReset">
                <i class="fas fa-sign-in-alt"></i> Go to Login
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- ADD THIS: Admin Login Modal -->
    <div class="modal hidden" id="adminLoginModal">
      <div class="modal-overlay" id="adminOverlay"></div>
      <div class="modal-content">
        <button class="modal-close" id="closeAdminModal">
          <i class="fas fa-times"></i>
        </button>
        <div class="auth-card">
          <div class="auth-header">
            <h2><i class="fas fa-shield-alt"></i> Admin Login</h2>
            <p>Administrator Access Portal</p>
          </div>
          <form class="auth-form" id="adminLoginForm">
            <div class="form-group">
              <label for="adminEmail">
                <i class="fas fa-user-shield"></i> Admin Email/Username
              </label>
              <input
                type="text"
                id="adminEmail"
                placeholder="Enter admin credentials"
                required
              />
            </div>
            <div class="form-group">
              <label for="adminPassword">
                <i class="fas fa-lock"></i> Password
              </label>
              <input
                type="password"
                id="adminPassword"
                placeholder="Enter admin password"
                required
              />
            </div>
            <button type="submit" class="auth-submit-btn admin-submit">
              <i class="fas fa-sign-in-alt"></i> Login as Admin
            </button>
          </form>
          <div class="admin-login-info">
            <h4>Default Admin Credentials</h4>
            <p><strong>Username:</strong> admin</p>
            <p><strong>Password:</strong> admin123</p>
            <p class="warning">
              <i class="fas fa-exclamation-triangle"></i> Change these
              credentials in production!
            </p>
          </div>
        </div>
      </div>
    </div>

    <!-- configuration (ignored in git) -->
    <script src="config.js"></script>
    <script>
      if (!window.__ACADEMICO_CONFIG) {
        document.body.innerHTML =
          "<main style='padding:40px;font-family:Arial,sans-serif;max-width:640px;margin:auto;text-align:center'>"+
          "<h1>Configuration Missing</h1>"+
          "<p>Please create <code>config.js</code> from <code>config.example.js</code> and reload this page.</p>"+
          "</main>";
      }
    </script>

    <!-- scripts -->
    <script src="js/errorHandler.js"></script>
    <script src="js/api.js"></script>

    <script src="js/countries.js"></script>
    <script src="js/universities.js"></script>
    <script src="js/enhanced-api.js"></script>

    <script src="js/auth.js"></script>
    <script src="js/admin-auth.js"></script>

    <script src="js/app.js"></script>
    <script src="js/admin-login.js"></script>
  </body>
</html>
